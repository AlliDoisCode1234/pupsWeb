[{"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\index.js":"1","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\App.js":"2","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\aws-exports.js":"3","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\reportWebVitals.js":"4","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\pages\\index.js":"5","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\pages\\home\\index.js":"6","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\index.js":"7","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\components\\index.js":"8","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\firebase.js":"9","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\queries.js":"10","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\mutations.js":"11","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\subscriptions.js":"12","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\posts-by-specified-user.js":"13","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\allposts.js":"14","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\sidebar.js":"15","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\components\\post-list.js":"16"},{"size":599,"mtime":1613930686558,"results":"17","hashOfConfig":"18"},{"size":5255,"mtime":1614266802046,"results":"19","hashOfConfig":"18"},{"size":875,"mtime":1614254397706,"results":"20","hashOfConfig":"18"},{"size":362,"mtime":1613479995592,"results":"21","hashOfConfig":"18"},{"size":42,"mtime":1613479995883,"results":"22","hashOfConfig":"23"},{"size":487,"mtime":1613641747883,"results":"24","hashOfConfig":"23"},{"size":189,"mtime":1613637025688,"results":"25","hashOfConfig":"23"},{"size":103,"mtime":1613549494113,"results":"26","hashOfConfig":"23"},{"size":598,"mtime":1613480092230,"results":"27","hashOfConfig":"23"},{"size":1891,"mtime":1614245675898,"results":"28","hashOfConfig":"18"},{"size":988,"mtime":1614245675923,"results":"29","hashOfConfig":"18"},{"size":682,"mtime":1614245675949,"results":"30","hashOfConfig":"18"},{"size":2412,"mtime":1614269168321,"results":"31","hashOfConfig":"18"},{"size":2922,"mtime":1614266837470,"results":"32","hashOfConfig":"18"},{"size":5089,"mtime":1614259234562,"results":"33","hashOfConfig":"18"},{"size":3587,"mtime":1614266710527,"results":"34","hashOfConfig":"18"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"1ml7rt9",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"16prq5h",{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\index.js",[],["70","71"],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\App.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\aws-exports.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\reportWebVitals.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\pages\\index.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\pages\\home\\index.js",["72"],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\index.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\components\\index.js",[],["73","74"],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\firebase.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\queries.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\mutations.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\graphql\\subscriptions.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\posts-by-specified-user.js",["75"],"import React, { useState, useEffect, useReducer } from 'react';\r\n\r\nimport API, { graphqlOperation } from '@aws-amplify/api';\r\nimport { useParams } from 'react-router';\r\n\r\n\r\nimport { listPostsBySpecificOwner } from '../graphql/queries';\r\nimport { onCreatePost } from '../graphql/subscriptions';\r\nimport PostList from '../components/post-list';\r\nimport Sidebar from './sidebar';\r\n\r\n\r\nconst SUBSCRIPTION = 'SUBSCRIPTION';\r\nconst INITIAL_QUERY = 'INITIAL_QUERY';\r\nconst ADDITIONAL_QUERY = 'ADDITIONAL_QUERY';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case INITIAL_QUERY:\r\n      return action.posts;\r\n    case ADDITIONAL_QUERY:\r\n      return [...state, ...action.posts]\r\n    case SUBSCRIPTION:\r\n      return [action.post, ...state]\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function PostsBySpecifiedUser() {\r\n  const { userId } = useParams();\r\n\r\n  const [posts, dispatch] = useReducer(reducer, []);\r\n  const [nextToken, setNextToken] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n\r\n  // uses listPostsBySpecificOwner to set owner to userId take from URI parameter\r\n  const getPosts = async (type, nextToken = null) => {\r\n    const res = await API.graphql(graphqlOperation(listPostsBySpecificOwner, {\r\n      owner: userId,\r\n      sortDirection: 'DESC',\r\n      limit: 20,\r\n      nextToken: nextToken,\r\n    }));\r\n    console.log(res);\r\n    dispatch({ type: type, posts: res.data.listPostsBySpecificOwner.items })\r\n    setNextToken(res.data.listPostsBySpecificOwner.nextToken);\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const getAdditionalPosts = () => {\r\n    if (nextToken === null) return; //Reached the last page\r\n    getPosts(ADDITIONAL_QUERY, nextToken);\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getPosts(INITIAL_QUERY);\r\n    \r\n    const subscription = API.graphql(graphqlOperation(onCreatePost)).subscribe({\r\n      next: (msg) => {\r\n        const post = msg.value.data.onCreatePost;\r\n        if (post.owner !== userId) return;\r\n        dispatch({ type: SUBSCRIPTION, post: post });\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Sidebar \r\n        activeListItem='profile'\r\n      />\r\n      <PostList\r\n        isLoading={isLoading}\r\n        posts={posts}\r\n        getAdditionalPosts={getAdditionalPosts}\r\n        listHeaderTitle={userId}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}","C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\allposts.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\containers\\sidebar.js",[],"C:\\Users\\Josiah\\Desktop\\pupsWeb\\src\\components\\post-list.js",[],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","severity":1,"message":"81","line":3,"column":10,"nodeType":"82","messageId":"83","endLine":3,"endColumn":19},{"ruleId":"76","replacedBy":"84"},{"ruleId":"78","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":69,"column":6,"nodeType":"88","endLine":69,"endColumn":8,"suggestions":"89"},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"no-unused-vars","'SignInBtn' is defined but never used.","Identifier","unusedVar",["90"],["91"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getPosts' and 'userId'. Either include them or remove the dependency array.","ArrayExpression",["92"],"no-global-assign","no-unsafe-negation",{"desc":"93","fix":"94"},"Update the dependencies array to be: [getPosts, userId]",{"range":"95","text":"96"},[2114,2116],"[getPosts, userId]"]